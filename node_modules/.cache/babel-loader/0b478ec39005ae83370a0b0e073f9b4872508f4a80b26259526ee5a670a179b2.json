{"ast":null,"code":"import _regeneratorRuntime from\"/home/sachamrt/projects/my_extension/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/sachamrt/projects/my_extension/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/sachamrt/projects/my_extension/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import WebPlayback from'./WebPlayback';import Login from'./Login';import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),token=_useState2[0],setToken=_useState2[1];useEffect(function(){function getToken(){return _getToken.apply(this,arguments);}function _getToken(){_getToken=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('/auth/token');case 2:response=_context.sent;_context.next=5;return response.json();case 5:json=_context.sent;setToken(json.access_token);case 7:case\"end\":return _context.stop();}},_callee);}));return _getToken.apply(this,arguments);}getToken();},[]);return/*#__PURE__*/_jsx(_Fragment,{children:token===''?/*#__PURE__*/_jsx(Login,{}):/*#__PURE__*/_jsx(WebPlayback,{token:token})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","WebPlayback","Login","App","token","setToken","getToken","fetch","response","json","access_token"],"sources":["/home/sachamrt/projects/my_extension/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport WebPlayback from './WebPlayback'\nimport Login from './Login'\nimport './App.css';\n\nfunction App() {\n\n  const [token, setToken] = useState('');\n\n  useEffect(() => {\n\n    async function getToken() {\n      const response = await fetch('/auth/token');\n      const json = await response.json();\n      setToken(json.access_token);\n    }\n\n    getToken();\n\n  }, []);\n\n  return (\n    <>\n        { (token === '') ? <Login/> : <WebPlayback token={token} /> }\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"8XAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAOC,YAAW,KAAM,eAAe,CACvC,MAAOC,MAAK,KAAM,SAAS,CAC3B,MAAO,WAAW,CAAC,gGAEnB,QAASC,IAAG,EAAG,CAEb,cAA0BJ,QAAQ,CAAC,EAAE,CAAC,wCAA/BK,KAAK,eAAEC,QAAQ,eAEtBL,SAAS,CAAC,UAAM,SAECM,SAAQ,oIAAvB,4KACyBC,MAAK,CAAC,aAAa,CAAC,QAArCC,QAAQ,qCACKA,SAAQ,CAACC,IAAI,EAAE,QAA5BA,IAAI,eACVJ,QAAQ,CAACI,IAAI,CAACC,YAAY,CAAC,CAAC,qDAC7B,2CAEDJ,QAAQ,EAAE,CAEZ,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,yBACOF,KAAK,GAAK,EAAE,cAAI,KAAC,KAAK,IAAE,cAAG,KAAC,WAAW,EAAC,KAAK,CAAEA,KAAM,EAAG,EAC5D,CAEP,CAEA,cAAeD,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}